{{- /* 프리텐다드 폰트 */ -}}
<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

{{- /* AdSense - 한 번만 로드 */ -}}
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8772455780561463" crossorigin="anonymous"></script>
<link rel="preconnect" href="https://pagead2.googlesyndication.com" />
<link rel="dns-prefetch" href="https://pagead2.googlesyndication.com" />

<style>
body {
  font-family: "Pretendard", -apple-system, sans-serif;
}

@media screen and (max-width: 768px) {
  .post-content { font-size: 17px; line-height: 1.7; }
  .main { padding: 0 15px; }
}

.post-content table {
  display: block;
  width: 100%;
  overflow-x: auto;
  margin-bottom: 1rem;
  border-radius: 8px;
}
</style>

{{- /* SEO */ -}}
{{- $image := .Params.cover.image | default .Params.thumbnail -}}
{{- if not $image -}}
  {{- $images := findRE "<img src=\"[^\"|\\\"]*\"" .Content -}}
  {{- if ge (len $images) 1 -}}
    {{- $image = (index $images 0 | replaceRE "<img src=\"" "") | replaceRE "\"" "" -}}
  {{- end -}}
{{- end -}}

{{- if $image -}}
<meta property="og:image" content="{{ $image | absURL }}" />
<meta name="twitter:image" content="{{ $image | absURL }}" />
<meta name="twitter:card" content="summary_large_image" />
{{- end -}}

<meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Summary | plainify | truncate 150 }}{{ end }}" />

{{- /* JSON-LD 구조화 데이터 */ -}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{{ .Site.Title }}",
  "url": "{{ .Site.BaseURL }}"
}
</script>

{{- if .IsPage -}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{{ .Title }}",
  "datePublished": "{{ .Date.Format "2006-01-02" }}",
  "dateModified": "{{ .Lastmod.Format "2006-01-02" }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Site.Title }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ .Site.Title }}"
  }
}
</script>
{{- end -}}
